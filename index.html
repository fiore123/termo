<!DOCTYPE html>
<html lang="pt-br">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Termo</title>
Â  Â  <link rel="preconnect" href="https://fonts.googleapis.com">
Â  Â  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --dark-bg: #1a1a1a;
Â  Â  Â  Â  Â  Â  --main-bg: #2d2d2d;
Â  Â  Â  Â  Â  Â  --box-border: #444;
Â  Â  Â  Â  Â  Â  --text-color: #d3d6da;
Â  Â  Â  Â  Â  Â  --key-bg: #818384;
Â  Â  Â  Â  Â  Â  --key-text: white;
Â  Â  Â  Â  Â  Â  --correct: #6aaa64;
Â  Â  Â  Â  Â  Â  --present: #c9b458;
Â  Â  Â  Â  Â  Â  --absent: #3a3a3c;
Â  Â  Â  Â  Â  Â  --animation-duration: 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', 'Arial', sans-serif;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  background-color: var(--dark-bg);
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  text-shadow: 2px 2px 4px #000;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-stats {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 550px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-stats span {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .game-stats button {
Â  Â  Â  Â  Â  Â  background-color: #555;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  .options {
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  select, button {
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .start-button {
Â  Â  Â  Â  Â  Â  background-color: var(--correct);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  #gameContainer {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .gameBoard {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  Â  Â  min-width: 300px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .box-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  perspective: 1000px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .box {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  border: 2px solid var(--box-border);
Â  Â  Â  Â  Â  Â  background-color: var(--main-bg);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  backface-visibility: hidden;
Â  Â  Â  Â  Â  Â  transition: transform var(--animation-duration);
Â  Â  Â  Â  Â  Â  transform-style: preserve-3d;
Â  Â  Â  Â  }

Â  Â  Â  Â  .box.active {
Â  Â  Â  Â  Â  Â  border-color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  .box-front {
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }

Â  Â  Â  Â  .box-back {
Â  Â  Â  Â  Â  Â  transform: rotateX(180deg);
Â  Â  Â  Â  }

Â  Â  Â  Â  .flip {
Â  Â  Â  Â  Â  Â  transform: rotateX(180deg);
Â  Â  Â  Â  }

Â  Â  Â  Â  .correct {
Â  Â  Â  Â  Â  Â  background-color: var(--correct);
Â  Â  Â  Â  Â  Â  border-color: var(--correct);
Â  Â  Â  Â  }

Â  Â  Â  Â  .present {
Â  Â  Â  Â  Â  Â  background-color: var(--present);
Â  Â  Â  Â  Â  Â  border-color: var(--present);
Â  Â  Â  Â  }

Â  Â  Â  Â  .absent {
Â  Â  Â  Â  Â  Â  background-color: var(--absent);
Â  Â  Â  Â  Â  Â  border-color: var(--absent);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #keyboard {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 550px;
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .key-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 6px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .key {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  background-color: var(--key-bg);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  color: var(--key-text);
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .key-content {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }

Â  Â  Â  Â  .key-segments {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .key-segment {
Â  Â  Â  Â  Â  Â  background-color: var(--key-bg);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .key-segment.correct { background-color: var(--correct); }
Â  Â  Â  Â  .key-segment.present { background-color: var(--present); }
Â  Â  Â  Â  .key-segment.absent { background-color: var(--absent); }

Â  Â  Â  Â  .key:hover {
Â  Â  Â  Â  Â  Â  background-color: #9aa2a6;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .key.correct { background-color: var(--correct); }
Â  Â  Â  Â  .key.present { background-color: var(--present); }
Â  Â  Â  Â  .key.absent { background-color: var(--absent); }

Â  Â  Â  Â  .wide-key {
Â  Â  Â  Â  Â  Â  flex: 1.5;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #tempMessage {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 15%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  background-color: #333;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in-out;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  #message {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.8);
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: var(--main-bg);
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  max-width: 80%;
Â  Â  Â  Â  Â  Â  min-width: 300px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content h2 {
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content p {
Â  Â  Â  Â  Â  Â  margin: 8px 0;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  font-weight: 400;
Â  Â  Â  Â  }

Â  Â  Â  Â  .mute-button {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  Â  Â  right: 20px;
Â  Â  Â  Â  Â  Â  background-color: transparent;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  }

Â  Â  Â  Â  .mute-button:hover {
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .custom-select-wrapper {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  }

Â  Â  Â  Â  .custom-select {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  background-color: var(--box-border);
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }

Â  Â  Â  Â  .custom-select::after {
Â  Â  Â  Â  Â  Â  content: 'â–¼';
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  Â  Â  padding: 0 8px;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #wordCountSelect {
Â  Â  Â  Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  Â  Â  Â  -moz-appearance: none;
Â  Â  Â  Â  Â  Â  appearance: none;
Â  Â  Â  Â  Â  Â  background-color: transparent;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .hint-modal-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.8);
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 1001;
Â  Â  Â  Â  }

Â  Â  Â  Â  .hint-modal-content {
Â  Â  Â  Â  Â  Â  background-color: var(--main-bg);
Â  Â  Â  Â  Â  Â  color: var(--text-color);
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  max-width: 80%;
Â  Â  Â  Â  Â  Â  min-width: 300px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .hint-modal-content button {
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  Â  Â  margin-left: 5px;
Â  Â  Â  Â  Â  Â  margin-right: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .hint-modal-content h3 {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <h1>Termo Duzamigos</h1>

Â  Â  <div class="game-stats">
Â  Â  Â  Â  <span>ğŸ† <span id="victoryCount">0</span></span>
Â  Â  Â  Â  <span>âœ¨ <span id="recordCount">0</span></span>
Â  Â  Â  Â  <button id="restartButton" title="Reiniciar Jogo">&#x21BB;</button>
Â  Â  Â  Â  <button id="hintButton" title="Pedir Dica" style="font-size: 1.2em; padding: 8px 12px;">ğŸ’¡</button>
Â  Â  </div>

Â  Â  <div class="options">
Â  Â  Â  Â  <label for="wordCountSelect">Dificuldade:</label>
Â  Â  Â  Â  <div class="custom-select-wrapper">
Â  Â  Â  Â  Â  Â  <select id="wordCountSelect">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1 termo</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2 termos</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3 termos</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4 termos</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button id="startButton" class="start-button">ComeÃ§ar</button>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="gameContainer"></div>
Â  Â  <div id="keyboard"></div>
Â  Â  <div id="tempMessage"></div>
Â  Â  <p id="message"></p>

Â  Â  <div id="endGameModal" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <h2 id="modalStatus"></h2>
Â  Â  Â  Â  Â  Â  <p id="modalCorrectWords"></p>
Â  Â  Â  Â  Â  Â  <p>VitÃ³rias na Rodada: <span id="modalVictories"></span></p>
Â  Â  Â  Â  Â  Â  <p>Seu Recorde: <span id="modalRecord"></span></p>
Â  Â  Â  Â  Â  Â  <p>Tempo Levado: <span id="modalTime"></span></p>
Â  Â  Â  Â  Â  Â  <button id="modalNewGameButton" class="start-button">Novo Jogo</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="hintModal" class="hint-modal-overlay">
Â  Â  Â  Â  <div class="hint-modal-content">
Â  Â  Â  Â  Â  Â  <h3>Deseja mesmo uma dica?</h3>
Â  Â  Â  Â  Â  Â  <p>Uma letra correta serÃ¡ revelada.</p>
Â  Â  Â  Â  Â  Â  <button id="confirmHintButton" class="start-button">Sim</button>
Â  Â  Â  Â  Â  Â  <button id="cancelHintButton" class="start-button">NÃ£o</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <button class="mute-button" id="muteButton">ğŸ”Š</button>

Â  Â  <script>
Â  Â  Â  Â  const TermoGame = {
Â  Â  Â  Â  Â  Â  state: {
Â  Â  Â  Â  Â  Â  Â  Â  wordDatabase: [],
Â  Â  Â  Â  Â  Â  Â  Â  currentWords: [],
Â  Â  Â  Â  Â  Â  Â  Â  wordLength: 5,
Â  Â  Â  Â  Â  Â  Â  Â  currentRow: 0,
Â  Â  Â  Â  Â  Â  Â  Â  maxAttempts: 6,
Â  Â  Â  Â  Â  Â  Â  Â  victoryCount: 0,
Â  Â  Â  Â  Â  Â  Â  Â  recordCount: 0,
Â  Â  Â  Â  Â  Â  Â  Â  normalizedWordDatabase: [],
Â  Â  Â  Â  Â  Â  Â  Â  startTime: null,
Â  Â  Â  Â  Â  Â  Â  Â  isMuted: false,
Â  Â  Â  Â  Â  Â  Â  Â  solvedWords: 0,
Â  Â  Â  Â  Â  Â  Â  Â  keyColorStates: {},
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  elements: {
Â  Â  Â  Â  Â  Â  Â  Â  gameContainer: document.getElementById('gameContainer'),
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay: document.getElementById('message'),
Â  Â  Â  Â  Â  Â  Â  Â  startButton: document.getElementById('startButton'),
Â  Â  Â  Â  Â  Â  Â  Â  wordCountSelect: document.getElementById('wordCountSelect'),
Â  Â  Â  Â  Â  Â  Â  Â  keyboardContainer: document.getElementById('keyboard'),
Â  Â  Â  Â  Â  Â  Â  Â  victoryCountDisplay: document.getElementById('victoryCount'),
Â  Â  Â  Â  Â  Â  Â  Â  recordCountDisplay: document.getElementById('recordCount'),
Â  Â  Â  Â  Â  Â  Â  Â  restartButton: document.getElementById('restartButton'),
Â  Â  Â  Â  Â  Â  Â  Â  tempMessageDisplay: document.getElementById('tempMessage'),
Â  Â  Â  Â  Â  Â  Â  Â  endGameModal: document.getElementById('endGameModal'),
Â  Â  Â  Â  Â  Â  Â  Â  modalStatus: document.getElementById('modalStatus'),
Â  Â  Â  Â  Â  Â  Â  Â  modalVictories: document.getElementById('modalVictories'),
Â  Â  Â  Â  Â  Â  Â  Â  modalRecord: document.getElementById('modalRecord'),
Â  Â  Â  Â  Â  Â  Â  Â  modalTime: document.getElementById('modalTime'),
Â  Â  Â  Â  Â  Â  Â  Â  modalCorrectWords: document.getElementById('modalCorrectWords'),
Â  Â  Â  Â  Â  Â  Â  Â  modalNewGameButton: document.getElementById('modalNewGameButton'),
Â  Â  Â  Â  Â  Â  Â  Â  muteButton: document.getElementById('muteButton'),
Â  Â  Â  Â  Â  Â  Â  Â  hintButton: document.getElementById('hintButton'),
Â  Â  Â  Â  Â  Â  Â  Â  hintModal: document.getElementById('hintModal'),
Â  Â  Â  Â  Â  Â  Â  Â  confirmHintButton: document.getElementById('confirmHintButton'),
Â  Â  Â  Â  Â  Â  Â  Â  cancelHintButton: document.getElementById('cancelHintButton'),
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  sounds: {
Â  Â  Â  Â  Â  Â  Â  Â  correct: new Audio('correct.mp3'),
Â  Â  Â  Â  Â  Â  Â  Â  incorrect: new Audio('incorrect.mp3'),
Â  Â  Â  Â  Â  Â  Â  Â  defeat: new Audio('defeat.mp3'),
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  init: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.bindEvents();
Â  Â  Â  Â  Â  Â  Â  Â  this.loadGameData();
Â  Â  Â  Â  Â  Â  Â  Â  this.loadWords();
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  bindEvents: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.startButton.addEventListener('click', this.loadWords.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.restartButton.addEventListener('click', this.startGame.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalNewGameButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.endGameModal.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startGame();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.muteButton.addEventListener('click', this.toggleMute.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.hintButton.addEventListener('click', this.showHintModal.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.confirmHintButton.addEventListener('click', this.revealHint.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.cancelHintButton.addEventListener('click', () => this.elements.hintModal.style.display = 'none');
Â  Â  Â  Â  Â  Â  Â  Â  document.addEventListener('keydown', this.handleKeyDown.bind(this));
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  normalizeString: function(str) {
Â  Â  Â  Â  Â  Â  Â  Â  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  playSound: function(sound) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.state.isMuted) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sound.play();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  showTemporaryMessage: function(msg) {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.tempMessageDisplay.textContent = msg;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.tempMessageDisplay.style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.tempMessageDisplay.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  loadWords: async function() {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.messageDisplay.textContent = 'Carregando palavras...';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch('palavras.json');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Erro ao carregar o arquivo de palavras.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const filtered = data.filter(word => word.length === this.state.wordLength);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.wordDatabase = filtered.map(word => word.toUpperCase());
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.normalizedWordDatabase = this.state.wordDatabase.map(word => this.normalizeString(word));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.messageDisplay.textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startGame();
Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.messageDisplay.textContent = 'Erro: ' + error.message;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(error);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  saveGameData: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const data = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  victoryCount: this.state.victoryCount,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  recordCount: this.state.recordCount,
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('termoGameData', JSON.stringify(data));
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  loadGameData: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const data = localStorage.getItem('termoGameData');
Â  Â  Â  Â  Â  Â  Â  Â  if (data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const savedData = JSON.parse(data);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.victoryCount = savedData.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.recordCount = savedData.recordCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.victoryCountDisplay.textContent = this.state.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.recordCountDisplay.textContent = this.state.recordCount;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  startGame: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentWords = [];
Â  Â  Â  Â  Â  Â  Â  Â  this.state.solvedWords = 0;
Â  Â  Â  Â  Â  Â  Â  Â  const numWords = parseInt(this.elements.wordCountSelect.value);

Â  Â  Â  Â  Â  Â  Â  Â  switch (numWords) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 1:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.maxAttempts = 6;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 2:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.maxAttempts = 7;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 3:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.maxAttempts = 8;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 4:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.maxAttempts = 9;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  default:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.maxAttempts = 6;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const shuffledWords = this.state.wordDatabase.sort(() => 0.5 - Math.random());
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < numWords; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentWords.push({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  word: shuffledWords[i],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  solved: false,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  this.resetGame();
Â  Â  Â  Â  Â  Â  Â  Â  this.createGameBoards();
Â  Â  Â  Â  Â  Â  Â  Â  this.createKeyboard();
Â  Â  Â  Â  Â  Â  Â  Â  if (document.querySelector('.box')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(document.querySelector('.box'));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  this.state.startTime = new Date();
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  resetGame: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.gameContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.messageDisplay.textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentRow = 0;
Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.keyboardContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  this.state.keyColorStates = {};
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  createGameBoards: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const numWords = this.state.currentWords.length;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.gameContainer.style.gridTemplateColumns = `repeat(${numWords}, 1fr)`;

Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentWords.forEach((wordObj, wordIndex) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const gameBoardDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameBoardDiv.classList.add('gameBoard');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameBoardDiv.id = `gameBoard-${wordIndex}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.maxAttempts; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const row = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.classList.add('row');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let j = 0; j < this.state.wordLength; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const box = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.classList.add('box');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.dataset.row = i;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.dataset.col = j;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.dataset.wordIndex = wordIndex;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.tabIndex = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.addEventListener('click', () => this.focusBox(box));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.appendChild(box);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameBoardDiv.appendChild(row);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.gameContainer.appendChild(gameBoardDiv);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  focusBox: function(box) {
Â  Â  Â  Â  Â  Â  Â  Â  if (box.dataset.row != this.state.currentRow) return;
Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.activeBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox = box;
Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.classList.add('active');
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  createKeyboard: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const keys = [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'DEL',
Â  Â  Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.keyboardContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  const numWords = parseInt(this.elements.wordCountSelect.value);

Â  Â  Â  Â  Â  Â  Â  Â  const keyboardRows = [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keys.slice(0, 10),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keys.slice(10, 19),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keys.slice(19)
Â  Â  Â  Â  Â  Â  Â  Â  ];

Â  Â  Â  Â  Â  Â  Â  Â  keyboardRows.forEach(rowKeys => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const rowDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rowDiv.classList.add('key-row');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rowKeys.forEach(keyText => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const key = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.add('key');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (keyText === 'ENTER' || keyText === 'DEL') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.add('wide-key');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.dataset.key = keyText.toLowerCase();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.addEventListener('click', () => this.handleKeyClick(keyText));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (numWords > 1 && keyText.length === 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const segments = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segments.classList.add('key-segments');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (numWords === 2 || numWords === 3) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segments.style.gridTemplateColumns = `repeat(${numWords}, 1fr)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (numWords === 4) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segments.style.gridTemplateColumns = 'repeat(2, 1fr)';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segments.style.gridTemplateRows = 'repeat(2, 1fr)';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < numWords; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const segment = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segment.classList.add('key-segment');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segment.dataset.segment = i;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  segments.appendChild(segment);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.appendChild(segments);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const keyTextSpan = document.createElement('span');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyTextSpan.classList.add('key-content');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyTextSpan.textContent = keyText;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.appendChild(keyTextSpan);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.textContent = keyText;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rowDiv.appendChild(key);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.keyboardContainer.appendChild(rowDiv);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  handleKeyClick: function(keyText) {
Â  Â  Â  Â  Â  Â  Â  Â  if (keyText === 'ENTER') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.checkWord();
Â  Â  Â  Â  Â  Â  Â  Â  } else if (keyText === 'DEL') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.deleteLetter();
Â  Â  Â  Â  Â  Â  Â  Â  } else if (keyText.length === 1 && this.state.activeBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.addLetter(keyText);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  addLetter: function(letter) {
Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.activeBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.activeBox.dataset.row != this.state.currentRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.textContent = letter;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const currentCol = parseInt(this.state.activeBox.dataset.col);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const nextCol = currentCol + 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (nextCol < this.state.wordLength) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const wordIndex = parseInt(this.state.activeBox.dataset.wordIndex);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const gameBoardDiv = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const nextBox = gameBoardDiv.children[this.state.currentRow].children[nextCol];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(nextBox);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  deleteLetter: function() {
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.state.activeBox) return;
Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.textContent = '';
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  checkWord: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const currentGuess = this.getCurrentGuess();

Â  Â  Â  Â  Â  Â  Â  Â  if (!currentGuess) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showTemporaryMessage('Preencha todas as caixas.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.isWordValid(currentGuess)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.playSound(this.sounds.incorrect);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showTemporaryMessage('Esta palavra nÃ£o Ã© aceita.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  let allWordsSolved = true;
Â  Â  Â  Â  Â  Â  Â  Â  let currentGuessedCorrectly = false;
Â  Â  Â  Â  Â  Â  Â  Â  let keyboardColorUpdates = {};
Â  Â  Â  Â  Â  Â  Â  Â  const numWords = this.state.currentWords.length;

Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentWords.forEach((wordObj, wordIndex) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const board = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const row = board.children[this.state.currentRow];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!wordObj.solved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.children[i].textContent = currentGuess[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (wordObj.solved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correctLetters = Array.from(wordObj.word);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const guessedLetters = Array.from(currentGuess);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const guessResult = new Array(this.state.wordLength).fill('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const wordCopy = [...correctLetters];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.normalizeString(guessedLetters[i]) === this.normalizeString(wordCopy[i])) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  guessResult[i] = 'correct';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  wordCopy[i] = null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  guessedLetters[i] = null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (guessedLetters[i] !== null) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const normalizedLetter = this.normalizeString(guessedLetters[i]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const index = wordCopy.findIndex(char => char !== null && this.normalizeString(char) === normalizedLetter);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (index > -1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  guessResult[i] = 'present';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  wordCopy[index] = null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let isWordSolved = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const box = row.children[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.classList.add(guessResult[i]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (guessResult[i] !== 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isWordSolved = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const letter = currentGuess[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!keyboardColorUpdates[letter]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyboardColorUpdates[letter] = new Array(numWords).fill('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (guessResult[i] === 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyboardColorUpdates[letter][wordIndex] = 'correct';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (guessResult[i] === 'present' && keyboardColorUpdates[letter][wordIndex] !== 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyboardColorUpdates[letter][wordIndex] = 'present';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isWordSolved && !wordObj.solved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  wordObj.solved = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.solvedWords++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentGuessedCorrectly = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!wordObj.solved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allWordsSolved = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  for (const letter in keyboardColorUpdates) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const key = document.querySelector(`.key[data-key="${letter.toLowerCase()}"]`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (key) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (numWords > 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const segments = key.querySelectorAll('.key-segment');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â keyboardColorUpdates[letter].forEach((result, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const segment = segments[index];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (result === 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â segment.classList.remove('present', 'absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â segment.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â } else if (result === 'present' && !segment.classList.contains('correct')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â segment.classList.remove('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â segment.classList.add('present');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â } else if (!segment.classList.contains('correct') && !segment.classList.contains('present')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â segment.classList.add('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const result = keyboardColorUpdates[letter][0];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (result === 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.remove('present', 'absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (result === 'present' && !key.classList.contains('correct')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.remove('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.add('present');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (key.classList.contains('correct') === false && key.classList.contains('present') === false) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key.classList.add('absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (currentGuessedCorrectly) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.playSound(this.sounds.correct);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentWords.forEach((wordObj, wordIndex) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (wordObj.solved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const board = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.updateBoardWithCorrectWord(board, wordObj.word);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (allWordsSolved) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.victoryCount++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.victoryCount > this.state.recordCount) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.recordCount = this.state.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.recordCountDisplay.textContent = this.state.recordCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.victoryCountDisplay.textContent = this.state.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.saveGameData();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('termoGameState');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timeTaken = new Date() - this.state.startTime;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showEndGameModal(`VocÃª venceu!`, timeTaken, true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.disableGame();
Â  Â  Â  Â  Â  Â  Â  Â  } else if (this.state.currentRow === this.state.maxAttempts - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.playSound(this.sounds.defeat);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timeTaken = new Date() - this.state.startTime;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showEndGameModal(`VocÃª perdeu!`, timeTaken);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.disableGame();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.victoryCount = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.victoryCountDisplay.textContent = this.state.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.saveGameData();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('termoGameState');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.currentRow++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox = null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const firstBox = document.querySelector(`.box[data-row="${this.state.currentRow}"]`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (firstBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(firstBox);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.saveGameState();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  isWordValid: function(word) {
Â  Â  Â  Â  Â  Â  Â  Â  const normalizedWord = this.normalizeString(word);
Â  Â  Â  Â  Â  Â  Â  Â  return this.state.normalizedWordDatabase.includes(normalizedWord);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  disableGame: function() {
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelectorAll('.key').forEach(key => key.removeEventListener('click', this.handleKeyClick.bind(this)));
Â  Â  Â  Â  Â  Â  Â  Â  document.removeEventListener('keydown', this.handleKeyDown.bind(this));
Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.activeBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  updateBoardWithCorrectWord: function(board, word) {
Â  Â  Â  Â  Â  Â  Â  Â  const row = board.children[this.state.currentRow];
Â  Â  Â  Â  Â  Â  Â  Â  if (row) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let j = 0; j < this.state.wordLength; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const box = row.children[j];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.textContent = word[j];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.classList.remove('present', 'absent');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  box.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  getCurrentGuess: function() {
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.state.activeBox) return null;
Â  Â  Â  Â  Â  Â  Â  Â  const wordIndex = parseInt(this.state.activeBox.dataset.wordIndex);
Â  Â  Â  Â  Â  Â  Â  Â  const board = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  const row = board.children[this.state.currentRow];
Â  Â  Â  Â  Â  Â  Â  Â  let guess = '';
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const boxContent = row.children[i].textContent;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (boxContent === '') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  guess += boxContent;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  return guess;
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  showEndGameModal: function(message, timeTaken, isVictory = false) {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalStatus.textContent = message;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (isVictory) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalCorrectWords.textContent = 'ParabÃ©ns! VocÃª concluiu o desafio.';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalCorrectWords.textContent = 'As palavras eram: ' + this.state.currentWords.map(w => w.word).join(', ');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalVictories.textContent = this.state.victoryCount;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalRecord.textContent = this.state.recordCount;

Â  Â  Â  Â  Â  Â  Â  Â  const seconds = Math.floor(timeTaken / 1000);
Â  Â  Â  Â  Â  Â  Â  Â  const minutes = Math.floor(seconds / 60);
Â  Â  Â  Â  Â  Â  Â  Â  const remainingSeconds = seconds % 60;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.modalTime.textContent = `${minutes}min ${remainingSeconds}s`;

Â  Â  Â  Â  Â  Â  Â  Â  this.elements.endGameModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  handleKeyDown: function(event) {
Â  Â  Â  Â  Â  Â  Â  Â  if (event.key.toUpperCase() === 'ENTER' || event.key.toUpperCase() === 'BACKSPACE' || event.key.match(/^[A-Z]$/i) || event.key.toUpperCase() === 'ARROWLEFT' || event.key.toUpperCase() === 'ARROWRIGHT') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.currentRow >= this.state.maxAttempts || (this.state.activeBox && this.state.activeBox.dataset.row != this.state.currentRow)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const key = event.key.toUpperCase();
Â  Â  Â  Â  Â  Â  Â  Â  const currentCol = parseInt(this.state.activeBox.dataset.col);
Â  Â  Â  Â  Â  Â  Â  Â  const wordIndex = parseInt(this.state.activeBox.dataset.wordIndex);

Â  Â  Â  Â  Â  Â  Â  Â  if (key === 'ENTER') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.checkWord();
Â  Â  Â  Â  Â  Â  Â  Â  } else if (key === 'BACKSPACE') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.state.activeBox) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.state.activeBox.textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentCol > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const gameBoardDiv = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const prevBox = gameBoardDiv.children[this.state.currentRow].children[currentCol - 1];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(prevBox);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else if (key.match(/^[A-Z]$/)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.addLetter(key);
Â  Â  Â  Â  Â  Â  Â  Â  } else if (key === 'ARROWLEFT') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentCol > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const gameBoardDiv = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const prevBox = gameBoardDiv.children[this.state.currentRow].children[currentCol - 1];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(prevBox);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else if (key === 'ARROWRIGHT') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentCol < this.state.wordLength - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const gameBoardDiv = document.getElementById(`gameBoard-${wordIndex}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const nextBox = gameBoardDiv.children[this.state.currentRow].children[currentCol + 1];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.focusBox(nextBox);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  toggleMute: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.state.isMuted = !this.state.isMuted;
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.muteButton.textContent = this.state.isMuted ? 'ğŸ”‡' : 'ğŸ”Š';
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  showHintModal: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.hintModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  revealHint: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.elements.hintModal.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const activeWordIndex = parseInt(this.state.activeBox.dataset.wordIndex);
Â  Â  Â  Â  Â  Â  Â  Â  const activeWord = this.state.currentWords[activeWordIndex].word;
Â  Â  Â  Â  Â  Â  Â  Â  const activeRow = document.getElementById(`gameBoard-${activeWordIndex}`).children[this.state.currentRow];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const availableLetters = [];
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < this.state.wordLength; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const box = activeRow.children[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!box.textContent) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const letter = activeWord[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â availableLetters.push({letter, index: i});
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (availableLetters.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const randomHint = availableLetters[Math.floor(Math.random() * availableLetters.length)];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const boxToFill = activeRow.children[randomHint.index];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxToFill.textContent = randomHint.letter;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxToFill.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.saveGameState();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  TermoGame.init();
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
